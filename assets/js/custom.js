var index,element,child,slideOpen=!0,heightChecked=!1,initHeight=0,intval=null,mdiv=null;let scrolled=!1;function toggleWhatsApp(){let e=document.getElementById("chatBox");e.classList.toggle("chat-box-expanded")}function slideToggle(e){if(window.clearInterval(intval),mdiv=document.querySelector(e),heightChecked||(initHeight=183,heightChecked=!0),slideOpen){let t=initHeight;slideOpen=!1,intval=setInterval(function(){t--,mdiv.style.height=t+"px",t<=0&&window.clearInterval(intval),0===t&&(mdiv.style.visibility="hidden")},1)}else{let n=0;slideOpen=!0,intval=setInterval(function(){n++,mdiv.style.height=n+"px",n>=initHeight&&window.clearInterval(intval)},1),mdiv.style.visibility="visible"}}document.querySelector(".close-chat")&&document.querySelector(".close-chat").addEventListener("click",function(){document.querySelector(".chat-box").onclick=function(){toggleWhatsApp(),chatboxElement.classList.remove("show-chat")}});var serialize=function(e){var t,n,l=[];if("object"==typeof e&&"FORM"==e.nodeName){for(var o=e.elements.length,a=0;a<o;a++)if((t=e.elements[a]).name&&!t.disabled&&"button"!=t.type&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type){if("select-multiple"==t.type){n=e.elements[a].options.length;for(var c=0;c<n;c++)t.options[c].selected&&(l[l.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[c].value))}else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(l[l.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}}return l.join("&").replace(/%20/g,"+")},element=document.querySelector(".comment-form");element&&element.addEventListener&&element.addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("share_agreement"),n=document.getElementById("agreement_feedback");if(!1==t.checked){n.innerText="يجب الموافقة لنشر التعليق";return}document.querySelector(".submit-btn")&&document.querySelector(".submit-btn").setAttribute("disabled",!0);let l=serialize(this),o=!!document.querySelector("#article_id")&&!!document.querySelector("#article_id").value,a=!!document.querySelector("#page_id")&&!!document.querySelector("#page_id").value;ajaxUrl=o?"/article/comment":"/company/review",a&&(ajaxUrl="/page/comment");let c=new XMLHttpRequest;c.open("POST",ajaxUrl,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if(o){var e=document.querySelector(".card-add-comment");e?(e.style.backgroundColor="var(--color-surface-surface-secondary-alt)",e.style.justifyContent="flex-end",e.innerHTML="<div class='alert alert-success text-center w-100 mb-0'>شكرا! سيتم نشر التعليق بعد الموافقة عليه.</div>"):document.querySelector(".comment-form").innerHTML="<div class='alert alert-success text-center'>شكرا! سيتم نشر التعليق بعد الموافقة عليه.</div>"}else document.querySelector(".comment-form").innerHTML="<div class='alert alert-success text-center'>شكرا! سيتم نشر التقييم بعد الموافقة عليه.</div>"}},c.send(l)},!0);const modal=document.querySelector(".native-modal"),trigger=document.querySelector(".native-trigger"),closeButton=document.querySelector(".native-close-button");function toggleModal(){modal.classList.toggle("native-show-modal")}function regNow(){toggleModal()}trigger&&(trigger.addEventListener("click",toggleModal),closeButton.addEventListener("click",toggleModal));const chatboxElement=document.getElementById("chatBox");window.addEventListener("scroll",function(){let e=document.documentElement.scrollHeight,t=document.getElementById("page-content"),n=window.pageYOffset;t&&n>=.25*t.offsetHeight&&chatboxElement.classList.contains("show-chat")&&chatboxElement.classList.add("chat-box-expanded"),n>=.25*e&&chatboxElement.classList.contains("show-chat")&&chatboxElement.classList.add("chat-box-expanded")}),document.querySelector(".popup-widget")&&window.addEventListener("scroll",function(){document.documentElement.scrollHeight;let e=document.getElementById("page-content");window.pageYOffset>=.8*e.offsetHeight&&(document.querySelector(".popup-widget").style.border="1px solid #ccc",document.querySelector(".popup-widget").classList.add("popup-box-expanded"))});var btn=document.querySelectorAll('[aria-expanded="true"]');if(void 0!==btn){btn.forEach(t=>{t.addEventListener("click",function(){e();var n=t.getAttribute("data-target");document.querySelector(n).classList.add("show")})});function e(){document.querySelectorAll('[data-toggle="collapse"]').forEach(e=>{var t=e.getAttribute("data-target");document.querySelector(t).classList.remove("show")})}}function closePopup(e){(mdiv=document.querySelector(e)).style.display="none"}function windowOnClick(e){e.target===modal&&toggleModal(),element=e.target.parentElement}function whatsappClickCta(){let e=new XMLHttpRequest;e.open("POST","/whatsapp-click",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("url={{ url()->current() }}&&type=whatsapp_cta"),whatsappCtaButton.removeEventListener("click",whatsappClickCta)}function whatsappClickChat(){let e=new XMLHttpRequest;e.open("POST","/whatsapp-click",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("url={{ url()->current() }}&type=whatsapp_chat"),whatsappChatButton.removeEventListener("click",whatsappClickChat)}document.querySelector(".close-popup")&&document.querySelector(".close-popup").addEventListener("click",function(){document.querySelector(".popup-widget").onclick=function(){closePopup(".popup-widget")}}),window.addEventListener("click",windowOnClick),document.addEventListener("click",function(e){var t=(e=e||window.event).target||e.srcElement;(void 0!==(child=(t=t.parentElement).children[1])&&child.classList.contains("dropdown-menu")||!t.classList.contains("card"))&&child&&(index=child.getAttribute("data-index"),t.classList.toggle("show"),child.classList.toggle("show"));document.querySelectorAll(".show").forEach(e=>{e.classList.contains("show")&&(e.classList.contains("nav-item")||e.classList.contains("dropdown-menu"))&&e.getAttribute("data-index")!=index&&e.getAttribute("data-index")&&e.classList.remove("show")})},!1);const whatsappCtaButton=document.querySelector(".whatsup_cta-btn"),whatsappChatButton=document.querySelector(".whatsapp-chat-btn");whatsappCtaButton&&whatsappCtaButton.addEventListener("click",whatsappClickCta),whatsappChatButton&&whatsappChatButton.addEventListener("click",whatsappClickChat);var hamburger=document.querySelector(".hamburger"),mobileMenu=document.querySelector(".top-nav"),close=document.querySelector(".close"),overlay=document.querySelector(".overlay");function checkForm(){return 0!=document.querySelector("#terms-of-use:checkbox:checked").length||(alert("عليك الموافقة على شروط الإستخدام"),document.querySelector("#terms-of-use").focus(),!1)}function openWindow(e){return window.open(e,"sharer","toolbar=0,status=0,width=580,height=400"),!1}hamburger.addEventListener("click",()=>{mobileMenu.style.transform="translateX(0)",mobileMenu.style.opacity="1",overlay.style.display="block",document.body.style.overflow="hidden"}),close.addEventListener("click",()=>{mobileMenu.style.transform="translateX(110%)",overlay.style.display="none",document.body.style.overflow="unset"}),overlay.addEventListener("click",()=>{mobileMenu.style.transform="translateX(110%)",overlay.style.display="none",document.body.style.overflow="unset"}),(()=>{let e=document.querySelectorAll(".summary");e.forEach(e=>{e.removeAttribute("style")})})();const myButton=document.getElementById("backToTop");function scrollFunction(){myButton.style.display=document.body.scrollTop>20||document.documentElement.scrollTop>20?"block":"none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}window.onscroll=function(){scrollFunction()},document.querySelector(".registerModal")&&document.querySelector(".registerModal").addEventListener("click",function(){let e=this.id.replace("register","");document.querySelector("#company_id_field").value=e}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("searchForm"),t=document.getElementById("searchInp");e&&e.addEventListener("submit",function(e){""===t.value.trim()&&e.preventDefault()})});